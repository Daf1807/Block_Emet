<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Registro Diario de Pedidos</title>

<style>
body { font-family: Arial; background:#f4f4f4; padding:20px }
h2 { background:#333; color:#fff; padding:6px }
.plato, .extra {
  background:#fff; padding:6px; margin:4px 0;
  display:flex; justify-content:space-between;
}
input[type=number] { width:60px }
button { margin:4px; padding:6px 10px }

.pedido {
  background:#fff;
  padding:10px;
  margin-top:10px;
  border-left:5px solid #333;
}
.detalle { margin-left:10px; font-size:14px }
</style>
</head>

<body>

<h1>üçΩÔ∏è Registro Diario de Pedidos</h1>

<label>Tipo:</label>
<select id="tipo">
  <option value="mesa">Mesa</option>
  <option value="llevar">Llevar / Recoge</option>
  <option value="delivery">Delivery</option>
</select>

<br><br>

<label>Mesa / Nombre:</label>
<input type="text" id="mesa">

<h2>Entradas</h2>
<div id="entradas"></div>

<h2>Segundos</h2>
<div id="segundos"></div>

<h2>Extras</h2>
<div class="extra">Arroz extra
  <input type="number" id="arroz" value="0" min="0">
</div>
<div class="extra">Tapers
  <input type="number" id="taper" value="0" min="0">
</div>
<div class="extra">Taper peque√±o arroz
  <input type="number" id="taperArroz" value="0" min="0">
</div>

<br>
<button onclick="registrarPedido()">‚úÖ Registrar pedido</button>

<h2>üìã Pedidos del d√≠a</h2>
<div id="listaPedidos"></div>

<script>
// ========= MEN√ö =========
const entradas = [
 "Sopa de s√©mola",
 "Salpic√≥n de pollo",
 "Ceviche mixto",
 "Ensalada"
];

const segundos = [
 "Aj√≠ de gallina",
 "Chaufa mixto",
 "Pollo al horno",
 "Milanesa",
 "Pescado frito"
];

let pedidosDia = [];

// ========= CREAR LISTAS =========
function crearPlatos(lista, contenedor) {
  const div = document.getElementById(contenedor);
  lista.forEach(p => {
    div.innerHTML += `
      <div class="plato">
        ${p}
        <input type="number" id="${p}" value="0" min="0">
      </div>`;
  });
}

// ========= REGISTRAR =========
function registrarPedido() {
  const tipo = document.getElementById("tipo").value;
  const mesa = document.getElementById("mesa").value;

  let detallePlatos = [];
  let totalEntradas = 0;
  let totalSegundos = 0;

  entradas.forEach(p => {
    const c = Number(document.getElementById(p).value);
    if (c > 0) {
      detallePlatos.push(`${c} - ${p}`);
      totalEntradas += c;
    }
  });

  segundos.forEach(p => {
    const c = Number(document.getElementById(p).value);
    if (c > 0) {
      detallePlatos.push(`${c} - ${p}`);
      totalSegundos += c;
    }
  });

  const menus = Math.min(totalEntradas, totalSegundos);
  const segundosSolos = totalSegundos - menus;
  const entradasSolas = totalEntradas - menus;

  const arroz = Number(document.getElementById("arroz").value);
  const taper = Number(document.getElementById("taper").value);
  const taperArroz = Number(document.getElementById("taperArroz").value);

  let total =
    menus * 13 +
    segundosSolos * 10 +
    entradasSolas * 5 +
    arroz * 2 +
    taper * 3 +
    taperArroz * 0.5;

  pedidosDia.push({
    tipo,
    mesa,
    resumen: {
      menus,
      segundosSolos,
      entradasSolas
    },
    detallePlatos,
    extras: { arroz, taper, taperArroz },
    total
  });

  mostrarPedidos();
  resetearFormulario();
}

// ========= MOSTRAR =========
function mostrarPedidos() {
  let html = "";
  pedidosDia.forEach((p, i) => {
    html += `
      <div class="pedido">
        <b>#${i+1} | ${p.tipo.toUpperCase()} | ${p.mesa || "-"}</b><br>
        <b>Total:</b> S/ ${p.total.toFixed(2)}
        <div class="detalle">
          <b>Detalle:</b><br>
          Men√∫s: ${p.resumen.menus}<br>
          Segundos solos: ${p.resumen.segundosSolos}<br>
          Entradas solas: ${p.resumen.entradasSolas}<br><br>
          ${p.detallePlatos.join("<br>")}
          ${p.extras.arroz ? `<br>${p.extras.arroz} - Arroz extra` : ""}
        </div>
      </div>`;
  });
  document.getElementById("listaPedidos").innerHTML = html;
}

// ========= RESET =========
function resetearFormulario() {
  document.querySelectorAll("input[type=number]").forEach(i => i.value = 0);
  document.getElementById("mesa").value = "";
}

// INICIO
crearPlatos(entradas, "entradas");
crearPlatos(segundos, "segundos");
</script>

</body>
</html>
